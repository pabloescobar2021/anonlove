{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/app/anonlove/things/data.ts"],"sourcesContent":["\r\nexport const size = {\r\n    width: 200,\r\n    height: 200,\r\n}\r\n\r\nexport const step = {\r\n    s: 20,\r\n    c: 10\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;AACO,MAAM,OAAO;IAChB,OAAO;IACP,QAAQ;AACZ;AAEO,MAAM,OAAO;IAChB,GAAG;IACH,GAAG;AACP"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/utils/supabase/alSupabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_ANONLOVE_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_ANONLOVE_SUPABASE_ANON_KEY!\r\n);"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,WAAW,IAAA,uLAAY"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/app/anonlove/things/utils/auth.ts"],"sourcesContent":["import { supabase } from \"@/utils/supabase/alSupabase\";\r\n\r\nexport async function getCurrentUser() {\r\n    const {data, error} = await supabase.auth.getUser()\r\n    if(error) return\r\n    return data.user\r\n}\r\n\r\nexport async function getUserProfile(userId: string) {\r\n    const {data, error} = await supabase\r\n        .from(\"users\")\r\n        .select(\"public_id, username\")\r\n        .eq(\"id_user\", userId)\r\n        .single()\r\n    if(error) return null\r\n    return data\r\n}\r\n\r\nexport async function sighOut() {\r\n    const {error} = await supabase.auth.signOut()\r\n    if(error) throw error\r\n}\r\n\r\nexport function onAuthStateChange(callback: (user:any) => void) {\r\n    const {data: listener} = supabase.auth.onAuthStateChange((event,session) => {\r\n        callback(session?.user || null)\r\n    })\r\n    return listener.subscription\r\n}"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEO,eAAe;IAClB,MAAM,EAAC,IAAI,EAAE,KAAK,EAAC,GAAG,MAAM,2IAAQ,CAAC,IAAI,CAAC,OAAO;IACjD,IAAG,OAAO;IACV,OAAO,KAAK,IAAI;AACpB;AAEO,eAAe,eAAe,MAAc;IAC/C,MAAM,EAAC,IAAI,EAAE,KAAK,EAAC,GAAG,MAAM,2IAAQ,CAC/B,IAAI,CAAC,SACL,MAAM,CAAC,uBACP,EAAE,CAAC,WAAW,QACd,MAAM;IACX,IAAG,OAAO,OAAO;IACjB,OAAO;AACX;AAEO,eAAe;IAClB,MAAM,EAAC,KAAK,EAAC,GAAG,MAAM,2IAAQ,CAAC,IAAI,CAAC,OAAO;IAC3C,IAAG,OAAO,MAAM;AACpB;AAEO,SAAS,kBAAkB,QAA4B;IAC1D,MAAM,EAAC,MAAM,QAAQ,EAAC,GAAG,2IAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC,OAAM;QAC5D,SAAS,SAAS,QAAQ;IAC9B;IACA,OAAO,SAAS,YAAY;AAChC"}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/app/anonlove/things/hooks/useAuth.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { getCurrentUser, getUserProfile, onAuthStateChange } from \"../utils/auth\"\r\n\r\nexport function useAuth() {\r\n    const [user, setUser] = useState<any>(null)\r\n    const [profile, setProfile] = useState<any>(null)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const loadUser = async () => {\r\n            try {\r\n                const userData = await getCurrentUser()\r\n                setUser(userData)\r\n\r\n                if(userData) {\r\n                    const profileData = await getUserProfile(userData.id)\r\n                    setProfile(profileData)\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error loading user:\", error)\r\n            } finally {\r\n                setLoading(false)\r\n            }\r\n        }\r\n        loadUser()\r\n\r\n        const subscription = onAuthStateChange(async (newUser) => {\r\n            setUser(newUser)\r\n            if (newUser) {\r\n                const profileData = await getUserProfile(newUser.id)\r\n                setProfile(profileData)\r\n            } else {\r\n                setProfile(null)\r\n            }\r\n        })\r\n\r\n        return () => {\r\n            subscription.unsubscribe()\r\n        }\r\n    },[])\r\n\r\n    return {user,profile,loading}\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAKO,SAAS;IACZ,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAM;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAM;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACN,MAAM,WAAW;YACb,IAAI;gBACA,MAAM,WAAW,MAAM,IAAA,4JAAc;gBACrC,QAAQ;gBAER,IAAG,UAAU;oBACT,MAAM,cAAc,MAAM,IAAA,4JAAc,EAAC,SAAS,EAAE;oBACpD,WAAW;gBACf;YACJ,EAAE,OAAO,OAAO;gBACZ,QAAQ,KAAK,CAAC,uBAAuB;YACzC,SAAU;gBACN,WAAW;YACf;QACJ;QACA;QAEA,MAAM,eAAe,IAAA,+JAAiB,EAAC,OAAO;YAC1C,QAAQ;YACR,IAAI,SAAS;gBACT,MAAM,cAAc,MAAM,IAAA,4JAAc,EAAC,QAAQ,EAAE;gBACnD,WAAW;YACf,OAAO;gBACH,WAAW;YACf;QACJ;QAEA,OAAO;YACH,aAAa,WAAW;QAC5B;IACJ,GAAE,EAAE;IAEJ,OAAO;QAAC;QAAK;QAAQ;IAAO;AAChC"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/app/anonlove/lovecard/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\n\r\nimport { size,step } from \"../things/data\"\r\n\r\nimport { useAuth } from \"../things/hooks/useAuth\";\r\nimport {useCurrentMessage} from \"../things/hooks/useMessages\"\r\n\r\nexport default function AnonLoveMain() {\r\n\r\n    const {user} = useAuth()\r\n    const [messageId, setMessageId] = useState<string | null>(null)\r\n\r\n    const {message, loading} = getCurMessage(user?.id || null, messageId || \"\")\r\n\r\n    const [sizeFigure, setSizeFigure] = useState(size)\r\n    const [scale, setScale] = useState(1)\r\n    const maxWidth = 400\r\n\r\n    useEffect(() => {\r\n        const hash = window.location.hash\r\n        if(hash){\r\n            setMessageId(hash.replace('#', ''))\r\n        }\r\n    },[])\r\n\r\n    const tap = () => {\r\n        setSizeFigure(prev => ({\r\n            width: prev.width + step.s,\r\n            height: prev.height + step.s\r\n        }))\r\n\r\n        setScale(1.2);\r\n        setTimeout(() => setScale(0.95), 120);\r\n        setTimeout(() => setScale(1.05), 220);\r\n        setTimeout(() => setScale(1), 320);\r\n\r\n        const interval =setInterval(() => {\r\n            setScale(1.2);\r\n            setTimeout(() => setScale(0.95), 120);\r\n            setTimeout(() => setScale(1.05), 220);\r\n            setTimeout(() => setScale(1), 320);\r\n        }, 1000);\r\n\r\n        setTimeout(() => clearInterval(interval), 1000);\r\n    }\r\n    \r\n\r\n    const viewBox = 100\r\n    const center = viewBox /2\r\n\r\n    if(sizeFigure.width <= maxWidth ){\r\n        return (\r\n            <div className=\"flex justify-center items-center bg-black h-full\"\r\n            >\r\n                <svg \r\n                    width={sizeFigure.width} \r\n                    height={sizeFigure.height}\r\n                    viewBox={`0 0 ${viewBox} ${viewBox}`}\r\n                    className=\"overflow-visible\"\r\n                >\r\n                    <path\r\n                        onClick={tap}\r\n                        className=\"cursor-pointer transition-transform duration-150 ease-in-out\"\r\n                        style={{\r\n                            transformOrigin: \"50% 50%\",\r\n                            transform: `scale(${scale})`,\r\n                        }}\r\n                        fill=\"red\"\r\n                        stroke=\"#fff\"\r\n                        strokeWidth={2}\r\n                        d=\"\r\n                            M50 85\r\n                            C20 60, 5 45, 25 25\r\n                            C40 10, 50 25, 50 25\r\n                            C50 25, 60 10, 75 25\r\n                            C95 45, 80 60, 50 85\r\n                        \"\r\n                    >\r\n    \r\n                    </path>\r\n                    \r\n                </svg>\r\n            </div>\r\n        )\r\n    } else {\r\n        return (\r\n            <div \r\n                className=\"flex justify-center items-center bg-black h-full\"\r\n            >\r\n\r\n                <div className=\"flex flex-col justify-center items-center border border-white w-1/2 h-1/2\">\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAEA;AANA;;;;;AASe,SAAS;IAEpB,MAAM,EAAC,IAAI,EAAC,GAAG,IAAA,wJAAO;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgB;IAE1D,MAAM,EAAC,OAAO,EAAE,OAAO,EAAC,GAAG,cAAc,MAAM,MAAM,MAAM,aAAa;IAExE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,yIAAI;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,WAAW;IAEjB,IAAA,kNAAS,EAAC;QACN,MAAM,OAAO,OAAO,QAAQ,CAAC,IAAI;QACjC,IAAG,MAAK;YACJ,aAAa,KAAK,OAAO,CAAC,KAAK;QACnC;IACJ,GAAE,EAAE;IAEJ,MAAM,MAAM;QACR,cAAc,CAAA,OAAQ,CAAC;gBACnB,OAAO,KAAK,KAAK,GAAG,yIAAI,CAAC,CAAC;gBAC1B,QAAQ,KAAK,MAAM,GAAG,yIAAI,CAAC,CAAC;YAChC,CAAC;QAED,SAAS;QACT,WAAW,IAAM,SAAS,OAAO;QACjC,WAAW,IAAM,SAAS,OAAO;QACjC,WAAW,IAAM,SAAS,IAAI;QAE9B,MAAM,WAAU,YAAY;YACxB,SAAS;YACT,WAAW,IAAM,SAAS,OAAO;YACjC,WAAW,IAAM,SAAS,OAAO;YACjC,WAAW,IAAM,SAAS,IAAI;QAClC,GAAG;QAEH,WAAW,IAAM,cAAc,WAAW;IAC9C;IAGA,MAAM,UAAU;IAChB,MAAM,SAAS,UAAS;IAExB,IAAG,WAAW,KAAK,IAAI,UAAU;QAC7B,qBACI,8OAAC;YAAI,WAAU;sBAEX,cAAA,8OAAC;gBACG,OAAO,WAAW,KAAK;gBACvB,QAAQ,WAAW,MAAM;gBACzB,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE,SAAS;gBACpC,WAAU;0BAEV,cAAA,8OAAC;oBACG,SAAS;oBACT,WAAU;oBACV,OAAO;wBACH,iBAAiB;wBACjB,WAAW,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;oBAChC;oBACA,MAAK;oBACL,QAAO;oBACP,aAAa;oBACb,GAAE;;;;;;;;;;;;;;;;IActB,OAAO;QACH,qBACI,8OAAC;YACG,WAAU;sBAGV,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAK3B;AAGJ"}}]
}