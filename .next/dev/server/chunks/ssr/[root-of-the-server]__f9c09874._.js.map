{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/app/test/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useRef, useState } from \"react\"\r\n\r\n\r\n\r\nexport default function Test() {\r\n  const messageRef = useRef<HTMLDivElement>(null)\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const [hidden, setHidden] = useState(false)\r\n  const PIXEL_SIZE = 2\r\n  const shatter = () => {\r\n    const el = messageRef.current\r\n    const canvas = canvasRef.current\r\n    if (!el || !canvas) return\r\n\r\n    const rect = el.getBoundingClientRect()\r\n    const ctx = canvas.getContext(\"2d\", { willReadFrequently: true })!\r\n    \r\n    canvas.width = window.innerWidth\r\n    canvas.height = window.innerHeight\r\n\r\n    const offsetX = rect.left\r\n    const offsetY = rect.top\r\n\r\n    // 1️⃣ рисуем сообщение вручную\r\n    ctx.fillStyle = \"#1f2937\"\r\n    ctx.fillRect(offsetX, offsetY, rect.width, rect.height)\r\n\r\n    ctx.font = \"16px system-ui\"\r\n    ctx.fillStyle = \"#fff\"\r\n    ctx.textBaseline = \"top\"\r\n    ctx.fillText(el.innerText,offsetX + 16, offsetY + 12)\r\n\r\n    // 2️⃣ получаем bitmap\r\n    const image = ctx.getImageData(offsetX, offsetY, canvas.width, canvas.height)\r\n    const data = image.data\r\n\r\n    const particles: Particle[] = []\r\n\r\n    // 3️⃣ превращаем пиксели в частицы\r\n    for (let y = 0; y < canvas.height; y += PIXEL_SIZE) {\r\n      for (let x = 0; x < canvas.width; x += PIXEL_SIZE) {\r\n        const i = (y * canvas.width + x) * 4\r\n        const a = data[i + 3]\r\n\r\n        if (a > 50 ) {\r\n          particles.push({\r\n            x: offsetX + x,\r\n            y: offsetY + y,\r\n            vx: (Math.random() - 0.5) * 0.6,\r\n            vy: Math.random() - 1.5,\r\n            alpha: 1,\r\n            r: data[i], \r\n            g: data[i + 1],\r\n            b: data[i + 2],\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    setHidden(true)\r\n    animate(ctx, canvas, particles)\r\n  }\r\n\r\n  const animate = (\r\n    ctx: CanvasRenderingContext2D,\r\n    canvas: HTMLCanvasElement,\r\n    particles: Particle[]\r\n  ) => {\r\n    const gravity = 0.04\r\n\r\n    const frame = () => {\r\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n\r\n      particles.forEach(p => {\r\n        p.vy += gravity\r\n        p.x += p.vx\r\n        p.y += p.vy\r\n        p.alpha -= 0.015\r\n\r\n        if (p.alpha > 0) {\r\n          ctx.fillStyle = `rgba(${p.r},${p.g},${p.b},${p.alpha})`\r\n          ctx.fillRect(p.x, p.y, PIXEL_SIZE, PIXEL_SIZE)\r\n        }\r\n      })\r\n\r\n      if (particles.some(p => p.alpha > 0)) {\r\n        requestAnimationFrame(frame)\r\n      }\r\n    }\r\n\r\n    requestAnimationFrame(frame)\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-20 bg-black min-h-screen text-white overflow-visible relative\">\r\n      {!hidden && (\r\n        <div\r\n          ref={messageRef}\r\n          onClick={shatter}\r\n          className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\r\n           bg-red-500 px-4 py-3 rounded-xl cursor-pointer select-none\r\n            w-50 h-50\r\n          \"\r\n        >\r\n          ДОБРО\r\n        </div>\r\n      )}\r\n\r\n      <canvas\r\n        ref={canvasRef}\r\n        className=\"absolute top-0 left-0 pointer-events-none overflow-visible\"\r\n        style={{ width: '100vw', height: '100vh' }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}