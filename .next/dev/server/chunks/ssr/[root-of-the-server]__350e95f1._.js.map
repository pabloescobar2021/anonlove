{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/app/anonlove/createcard/useRandColor.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState,useEffect, useRef } from \"react\"\r\n\r\ntype Color = {r: number, g: number, b: number, a: number}\r\nconst lerp = (a: number, b: number, t: number) => {\r\n    return a + (b - a) * t\r\n}\r\nconst smoothStep = (t: number) => {\r\n    return t * t * (3 - 2 * t)\r\n}\r\nconst mixColor = (from: Color, to: Color, t: number): Color => {\r\n    const k = smoothStep(t)\r\n    return{\r\n        r: lerp(from.r, to.r, k),\r\n        g: lerp(from.g, to.g, k),\r\n        b: lerp(from.b, to.b, k),\r\n        a: lerp(from.a, to.a, k),\r\n    }\r\n}\r\nconst randomColor = (): Color => {\r\n    return {\r\n        r: Math.floor(Math.random() * 256),\r\n        g: 0,\r\n        b: 0,\r\n        a: 0.1\r\n    }\r\n}\r\n\r\nexport function useRandColor() {\r\n    const [bg, setBg] = useState<Color>({r: 0, g: 0, b: 0, a: 0.1})\r\n    const colorRef = useRef<Color>(bg)\r\n    const frameRef = useRef<number | null>(null)\r\n\r\n\r\n    useEffect(() => {\r\n        let start: number | null = null\r\n        let from = colorRef.current\r\n        let to = randomColor()\r\n        const duration = 3000 \r\n\r\n        const animate = (time: number) => {\r\n            if (!start) start = time\r\n            const t = Math.min((time - start) / duration, 1)\r\n            const next = mixColor(from, to, t)\r\n\r\n            colorRef.current = next\r\n            setBg(next)\r\n\r\n            if (t < 1) {\r\n                frameRef.current = requestAnimationFrame(animate)\r\n            } else{\r\n                from = to\r\n                to = randomColor()\r\n                start = null\r\n                frameRef.current = requestAnimationFrame(animate)\r\n            }\r\n        }\r\n        frameRef.current = requestAnimationFrame(animate)\r\n\r\n        return () => {\r\n            if (frameRef.current) cancelAnimationFrame(frameRef.current)\r\n        }\r\n    },[])\r\n\r\n    return {\r\n        bg\r\n    }\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;AAKA,MAAM,OAAO,CAAC,GAAW,GAAW;IAChC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI;AACzB;AACA,MAAM,aAAa,CAAC;IAChB,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC;AAC7B;AACA,MAAM,WAAW,CAAC,MAAa,IAAW;IACtC,MAAM,IAAI,WAAW;IACrB,OAAM;QACF,GAAG,KAAK,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE;QACtB,GAAG,KAAK,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE;QACtB,GAAG,KAAK,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE;QACtB,GAAG,KAAK,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE;IAC1B;AACJ;AACA,MAAM,cAAc;IAChB,OAAO;QACH,GAAG,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QAC9B,GAAG;QACH,GAAG;QACH,GAAG;IACP;AACJ;AAEO,SAAS;IACZ,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,iNAAQ,EAAQ;QAAC,GAAG;QAAG,GAAG;QAAG,GAAG;QAAG,GAAG;IAAG;IAC7D,MAAM,WAAW,IAAA,+MAAM,EAAQ;IAC/B,MAAM,WAAW,IAAA,+MAAM,EAAgB;IAGvC,IAAA,kNAAS,EAAC;QACN,IAAI,QAAuB;QAC3B,IAAI,OAAO,SAAS,OAAO;QAC3B,IAAI,KAAK;QACT,MAAM,WAAW;QAEjB,MAAM,UAAU,CAAC;YACb,IAAI,CAAC,OAAO,QAAQ;YACpB,MAAM,IAAI,KAAK,GAAG,CAAC,CAAC,OAAO,KAAK,IAAI,UAAU;YAC9C,MAAM,OAAO,SAAS,MAAM,IAAI;YAEhC,SAAS,OAAO,GAAG;YACnB,MAAM;YAEN,IAAI,IAAI,GAAG;gBACP,SAAS,OAAO,GAAG,sBAAsB;YAC7C,OAAM;gBACF,OAAO;gBACP,KAAK;gBACL,QAAQ;gBACR,SAAS,OAAO,GAAG,sBAAsB;YAC7C;QACJ;QACA,SAAS,OAAO,GAAG,sBAAsB;QAEzC,OAAO;YACH,IAAI,SAAS,OAAO,EAAE,qBAAqB,SAAS,OAAO;QAC/D;IACJ,GAAE,EAAE;IAEJ,OAAO;QACH;IACJ;AACJ"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/app/anonlove/createcard/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\n\r\nimport { useState,useEffect, useRef } from \"react\"\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useRandColor } from \"./useRandColor\";\r\nimport { uuid } from \"@supabase/supabase-js/dist/module/lib/helpers.js\";\r\n\r\ntype Item = {\r\n    id: number;\r\n    type: \"text\",\r\n    content: string,\r\n    x: number,\r\n    y: number,\r\n    w: number,\r\n    h: number,\r\n    isEditing: boolean\r\n}\r\n\r\nexport default function CreateCardPage() {\r\n    // const router = useRouter()\r\n\r\n    const [items, setItems] = useState<Item[]>([])\r\n    const fieldRef = useRef<HTMLDivElement>(null)\r\n    const createText = () => {\r\n        setItems(prev => [...prev, {\r\n            id: prev.length,\r\n            type: \"text\",\r\n            content: `new text ${prev.length + 1}`,\r\n            x: 0 ,\r\n            y: 0 + prev.length * 20,\r\n            w: 100,\r\n            h: 20,\r\n            isEditing: false\r\n        }])\r\n    }\r\n\r\n    // рандомный фон\r\n    const {bg} = useRandColor()\r\n    const bgStyle = `rgba(${Math.floor(bg.r)}, ${Math.floor(bg.g)}, ${Math.floor(bg.b)}, ${bg.a})`\r\n\r\n\r\n\r\n    return (\r\n        <div \r\n            className={`relative flex flex-col justify-center items-center h-full`}\r\n            style={{ \r\n                backgroundColor: bgStyle\r\n            }}\r\n        >\r\n            {/* field */}\r\n            <div\r\n                className=\"relative border w-1/2 h-1/2 rounded-md bg-white\"\r\n                ref={fieldRef}\r\n            >\r\n                {items.map((item,i) => (\r\n                    <div \r\n                    key={item.id}\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        left: item.x,\r\n                        top: item.y,\r\n                        width: item.w,\r\n                        height: item.h,\r\n                        cursor: \"grab\",\r\n                    }}\r\n                    onDoubleClick={() => {\r\n                        setItems(prev => prev.map(it => it.id === item.id ? {...it, isEditing: true} : it))\r\n                    }}\r\n                    >\r\n                        {item.isEditing \r\n                        ?(\r\n                            <input\r\n                                autoFocus\r\n                                value={item.content}\r\n                                onChange={(e) => {\r\n                                    setItems(prev => prev.map(it => it.id === item.id \r\n                                        ? {...it, content: e.target.value} \r\n                                        : it))\r\n                                }}\r\n                                onBlur={() => {\r\n                                    setItems(prev => prev.map(it => it.id === item.id \r\n                                        ? {...it, isEditing: false}\r\n                                        : it\r\n                                    ))\r\n                                }}\r\n                                onKeyDown={(e) => {\r\n                                    if(e.key === \"Enter\") e.currentTarget.blur()\r\n                                }}\r\n                            >\r\n                            \r\n                            </input>\r\n\r\n                        )\r\n                        :(\r\n                            item.content\r\n                        )\r\n                        }\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            <div className=\"flex p-2 mt-10\">\r\n\r\n                <button\r\n                    className=\"p-2 border rounded-2xl\"\r\n                    onClick={() => createText()}\r\n                >\r\n                    Text\r\n                </button>\r\n\r\n            </div>\r\n\r\n\r\n            <div\r\n                className=\"absolute left-0 inset-y-0 flex justify-center items-center \r\n                w-7 rounded-r-full bg-white/10 hover:bg-white/20 transition-cursor\"\r\n            >\r\n                <button className=\"w-full h-full\">\r\n                    {`<`}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAmBe,SAAS;IACpB,6BAA6B;IAE7B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,WAAW,IAAA,+MAAM,EAAiB;IACxC,MAAM,aAAa;QACf,SAAS,CAAA,OAAQ;mBAAI;gBAAM;oBACvB,IAAI,KAAK,MAAM;oBACf,MAAM;oBACN,SAAS,CAAC,SAAS,EAAE,KAAK,MAAM,GAAG,GAAG;oBACtC,GAAG;oBACH,GAAG,IAAI,KAAK,MAAM,GAAG;oBACrB,GAAG;oBACH,GAAG;oBACH,WAAW;gBACf;aAAE;IACN;IAEA,gBAAgB;IAChB,MAAM,EAAC,EAAE,EAAC,GAAG,IAAA,6JAAY;IACzB,MAAM,UAAU,CAAC,KAAK,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAI9F,qBACI,8OAAC;QACG,WAAW,CAAC,yDAAyD,CAAC;QACtE,OAAO;YACH,iBAAiB;QACrB;;0BAGA,8OAAC;gBACG,WAAU;gBACV,KAAK;0BAEJ,MAAM,GAAG,CAAC,CAAC,MAAK,kBACb,8OAAC;wBAED,OAAO;4BACH,UAAU;4BACV,MAAM,KAAK,CAAC;4BACZ,KAAK,KAAK,CAAC;4BACX,OAAO,KAAK,CAAC;4BACb,QAAQ,KAAK,CAAC;4BACd,QAAQ;wBACZ;wBACA,eAAe;4BACX,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK,EAAE,GAAG;wCAAC,GAAG,EAAE;wCAAE,WAAW;oCAAI,IAAI;wBACnF;kCAEK,KAAK,SAAS,iBAEX,8OAAC;4BACG,SAAS;4BACT,OAAO,KAAK,OAAO;4BACnB,UAAU,CAAC;gCACP,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK,EAAE,GAC3C;4CAAC,GAAG,EAAE;4CAAE,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAA,IAC/B;4BACV;4BACA,QAAQ;gCACJ,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,KAAK,EAAE,GAC3C;4CAAC,GAAG,EAAE;4CAAE,WAAW;wCAAK,IACxB;4BAEV;4BACA,WAAW,CAAC;gCACR,IAAG,EAAE,GAAG,KAAK,SAAS,EAAE,aAAa,CAAC,IAAI;4BAC9C;;;;;mCAOJ,KAAK,OAAO;uBAtCf,KAAK,EAAE;;;;;;;;;;0BA6CpB,8OAAC;gBAAI,WAAU;0BAEX,cAAA,8OAAC;oBACG,WAAU;oBACV,SAAS,IAAM;8BAClB;;;;;;;;;;;0BAOL,8OAAC;gBACG,WAAU;0BAGV,cAAA,8OAAC;oBAAO,WAAU;8BACb,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;AAKxB"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/anonlove/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}