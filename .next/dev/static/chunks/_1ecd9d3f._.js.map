{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/utils/supabase/supabase.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nexport const supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n);"],"names":[],"mappings":";;;;AAGE;AAHF;;AAEO,MAAM,WAAW,IAAA,0LAAY"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/app/admin/ProductImageUpload.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { supabase } from \"@/utils/supabase/supabase\"\r\n\r\ntype Props = {\r\n    product_id: string | number;\r\n    slug: string;\r\n}\r\n\r\n\r\nexport default function ProductImageUpload({ product_id, slug = \"asd\" }: Props) {\r\n    async function handleUpload(e: React.ChangeEvent<HTMLInputElement>) {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        const filePath = `valves/product-${product_id}.webp`;\r\n\r\n        const {error: uploadError} = await supabase.storage\r\n            .from(\"products\")\r\n            .upload(filePath, file, { upsert: true });\r\n\r\n        if (uploadError) {\r\n            console.error(\"Error uploading image:\", uploadError);\r\n            return;\r\n        }\r\n\r\n        const {data} = await supabase.storage\r\n            .from(\"products\")\r\n            .getPublicUrl(filePath);\r\n            \r\n        const publicUrl = data.publicUrl;\r\n\r\n        const { error: updateError } = await supabase\r\n            .from(\"products\")\r\n            .update({ main_image: publicUrl })\r\n            .eq(\"id\", product_id);\r\n\r\n        if (updateError) {\r\n            console.error(\"Error updating product image URL:\", updateError);\r\n            return;\r\n        }\r\n\r\n        alert(\"Image uploaded and product updated successfully!\");\r\n\r\n    }\r\n\r\n    return(\r\n        <div className=\"bg-gray-800 p-2\">\r\n\r\n            <input \r\n            className=\"cursor-pointer\"\r\n            type=\"file\" \r\n            accept=\"image/*\" \r\n            onChange={handleUpload} />\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUe,SAAS,mBAAmB,EAAE,UAAU,EAAE,OAAO,KAAK,EAAS;IAC1E,eAAe,aAAa,CAAsC;QAC9D,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,MAAM,WAAW,CAAC,eAAe,EAAE,WAAW,KAAK,CAAC;QAEpD,MAAM,EAAC,OAAO,WAAW,EAAC,GAAG,MAAM,4IAAQ,CAAC,OAAO,CAC9C,IAAI,CAAC,YACL,MAAM,CAAC,UAAU,MAAM;YAAE,QAAQ;QAAK;QAE3C,IAAI,aAAa;YACb,QAAQ,KAAK,CAAC,0BAA0B;YACxC;QACJ;QAEA,MAAM,EAAC,IAAI,EAAC,GAAG,MAAM,4IAAQ,CAAC,OAAO,CAChC,IAAI,CAAC,YACL,YAAY,CAAC;QAElB,MAAM,YAAY,KAAK,SAAS;QAEhC,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,4IAAQ,CACxC,IAAI,CAAC,YACL,MAAM,CAAC;YAAE,YAAY;QAAU,GAC/B,EAAE,CAAC,MAAM;QAEd,IAAI,aAAa;YACb,QAAQ,KAAK,CAAC,qCAAqC;YACnD;QACJ;QAEA,MAAM;IAEV;IAEA,qBACI,6LAAC;QAAI,WAAU;kBAEX,cAAA,6LAAC;YACD,WAAU;YACV,MAAK;YACL,QAAO;YACP,UAAU;;;;;;;;;;;AAGtB;KA9CwB"}}]
}