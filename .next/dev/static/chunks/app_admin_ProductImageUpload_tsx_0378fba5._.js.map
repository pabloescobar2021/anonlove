{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/%D0%95%D0%BB%D0%B5%D0%BD%D0%B0/Desktop/next.js/my-next-app/app/admin/ProductImageUpload.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\";\r\n\r\ntype Props = {\r\n    product_id: string | number;\r\n    category_name: string;\r\n}\r\n\r\n\r\nexport default function ProductImageUpload({ product_id, category_name }: Props) {\r\n    const [uploading, setUploading] = useState(false);\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    async function handleUpload(e: React.ChangeEvent<HTMLInputElement>) {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        setUploading(true);\r\n        setMessage(\"\");\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        formData.append(\"product_id\", product_id.toString());\r\n        formData.append(\"category_name\", category_name);\r\n\r\n        const res = await fetch(\"/api/uploadProductImage\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        });\r\n\r\n        const data = await res.text();\r\n\r\n        if (!res.ok){\r\n            console.error(\"Upload failed:\", data);\r\n            return;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            window.location.reload();\r\n        }, 1000);\r\n    }\r\n\r\n    return(\r\n        <div className=\"bg-gray-800 text-white p-2 rounded\">\r\n\r\n            <input \r\n                className=\"cursor-pointer\"\r\n                type=\"file\" \r\n                accept=\"image/*\" \r\n                onChange={handleUpload} \r\n            />\r\n        </div>\r\n    )\r\n}"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAUe,SAAS,mBAAmB,EAAE,UAAU,EAAE,aAAa,EAAS;;IAC3E,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,eAAe,aAAa,CAAsC;QAC9D,MAAM,OAAO,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QAChC,IAAI,CAAC,MAAM;QAEX,aAAa;QACb,WAAW;QAEX,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,SAAS,MAAM,CAAC,cAAc,WAAW,QAAQ;QACjD,SAAS,MAAM,CAAC,iBAAiB;QAEjC,MAAM,MAAM,MAAM,MAAM,2BAA2B;YAC/C,QAAQ;YACR,MAAM;QACV;QAEA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,IAAI,CAAC,IAAI,EAAE,EAAC;YACR,QAAQ,KAAK,CAAC,kBAAkB;YAChC;QACJ;QAEA,WAAW;YACP,OAAO,QAAQ,CAAC,MAAM;QAC1B,GAAG;IACP;IAEA,qBACI,6LAAC;QAAI,WAAU;kBAEX,cAAA,6LAAC;YACG,WAAU;YACV,MAAK;YACL,QAAO;YACP,UAAU;;;;;;;;;;;AAI1B;GA5CwB;KAAA"}}]
}